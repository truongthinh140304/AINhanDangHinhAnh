╔════════════════════════════════════════════════════════════════╗
║        📱 KẾT NỐI ĐIỆN THOẠI ANDROID - HƯỚNG DẪN NHANH        ║
╚════════════════════════════════════════════════════════════════╝

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  BƯỚC 1: BẬT DEVELOPER MODE (1 LẦN DUY NHẤT)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📱 TRÊN ĐIỆN THOẠI:

  Samsung:
    Settings → About Phone → Software Information
    → NHẤN "Build Number" 7 LẦN

  Xiaomi/Redmi/POCO:
    Settings → About Phone
    → NHẤN "MIUI Version" 7 LẦN

  Oppo/Realme:
    Settings → About Phone
    → NHẤN "Version" 7 LẦN

  Vivo:
    Settings → About Phone
    → NHẤN "Software Version" 7 LẦN

  Khác:
    Settings → About Phone
    → NHẤN "Build Number" 7 LẦN

✅ Thấy thông báo "You are now a developer!" → THÀNH CÔNG!


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  BƯỚC 2: BẬT USB DEBUGGING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📱 TRÊN ĐIỆN THOẠI:

  1. Mở Settings (Cài đặt)

  2. Tìm "Developer Options" hoặc "Developer Settings":
     • Samsung: Settings → Developer Options
     • Xiaomi: Settings → Additional Settings → Developer Options
     • Oppo/Realme: Settings → Additional Settings → Developer Options
     • Khác: Settings → System → Developer Options

  3. BẬT các tùy chọn sau:

     ✅ USB Debugging              (BẮT BUỘC!)
     ✅ Install via USB            (nếu có)
     ✅ USB debugging (Security)   (nếu có)
     ❌ Verify apps over USB       (TẮT đi)

  4. Nhấn OK nếu có cảnh báo


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  BƯỚC 3: CẮM DÂY USB VÀ KẾT NỐI
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔌 KẾT NỐI:

  1. CẮM DÂY USB từ điện thoại vào máy tính

  2. ĐIỆN THOẠI SẼ HỎI:
     ┌─────────────────────────────────────────────┐
     │ Allow USB debugging?                        │
     │                                             │
     │ The computer's RSA key fingerprint is:     │
     │ XX:XX:XX:XX...                             │
     │                                             │
     │ ☑ Always allow from this computer          │
     │                                             │
     │ [Cancel]             [OK]                   │
     └─────────────────────────────────────────────┘

     → TICK vào "Always allow from this computer" ✅
     → NHẤN "OK" ✅

  3. CHỌN USB MODE (kéo thanh thông báo xuống):
     → Chọn "File Transfer" hoặc "MTP"
     ❌ KHÔNG chọn "Charging only"


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  BƯỚC 4: KIỂM TRA KẾT NỐI
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💻 TRÊN MÁY TÍNH (VS Code):

  1. Mở VS Code

  2. Mở Terminal: Ctrl + `

  3. Chạy lệnh:

     flutter devices

  4. KẾT QUẢ:

     ✅ THÀNH CÔNG nếu thấy:
     ┌────────────────────────────────────────────────┐
     │ Found 4 devices:                               │
     │   SM G973F (mobile) • XXXXXX • android-arm64  │
     │   Windows (desktop) • windows • windows-x64   │
     │   Chrome (web)      • chrome  • web-javascript│
     │   Edge (web)        • edge    • web-javascript│
     └────────────────────────────────────────────────┘

     ❌ THẤT BẠI nếu không thấy điện thoại
        → Xem phần "XỬ LÝ LỖI" phía dưới


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  BƯỚC 5: CHẠY APP TRÊN ĐIỆN THOẠI
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💻 TRONG VS CODE:

  CÁCH 1: Nhấn F5 (ĐỀ XUẤT ⭐)
    1. Nhấn F5
    2. Chọn: "📱 Flutter App"
    3. ✅ App sẽ cài lên điện thoại!

  CÁCH 2: Dùng Terminal
    cd frontend
    flutter run


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  🔧 XỬ LÝ LỖI
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ "No devices found"
   
   GIẢI PHÁP:
   
   1. Kiểm tra USB Debugging đã bật
   
   2. Restart ADB:
      adb kill-server
      adb start-server
      adb devices
   
   3. Thử dây USB khác
   
   4. Thử cổng USB khác
   
   5. Restart điện thoại


❌ Thấy "unauthorized" khi chạy adb devices

   GIẢI PHÁP:
   
   1. Trên điện thoại:
      Developer Options → Revoke USB debugging authorizations
   
   2. Rút dây USB, cắm lại
   
   3. Chấp nhận popup "Allow USB debugging?"
      ✅ Tick "Always allow"


❌ Điện thoại sạc nhưng không connect

   NGUYÊN NHÂN:
   • Dây USB chỉ có chức năng sạc
   • Không có dây data
   
   GIẢI PHÁP:
   • Đổi dây USB khác (dùng dây chính hãng tốt nhất)
   • Thử cổng USB khác


❌ "More than one device" khi chạy Flutter

   GIẢI PHÁP:
   
   # Liệt kê devices
   flutter devices
   
   # Chọn device cụ thể
   flutter run -d <device_id>
   
   # Ví dụ:
   flutter run -d R58M60EZNXH


❌ Windows không nhận diện điện thoại

   GIẢI PHÁP:
   
   Cài USB Driver cho hãng điện thoại:
   • Samsung: Samsung USB Driver
   • Xiaomi: MI USB Driver  
   • Generic: Google USB Driver (trong Android SDK)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  💡 TIPS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Giữ màn hình luôn sáng:
   Developer Options → "Stay awake" → ON

2. Hiện touch khi demo:
   Developer Options → "Show taps" → ON

3. Animation nhanh hơn:
   Developer Options:
   • Window animation scale: 0.5x
   • Transition animation scale: 0.5x
   • Animator duration scale: 0.5x

4. Wireless Debugging (Android 11+):
   Settings → Developer Options → Wireless Debugging
   → Pair device with pairing code


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ✅ CHECKLIST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

□ Bật Developer Mode (nhấn Build Number 7 lần)
□ Bật USB Debugging
□ Cắm USB
□ Chấp nhận "Allow USB debugging?"
□ Chọn USB mode: File Transfer
□ Chạy: flutter devices → Thấy điện thoại
□ Chạy: F5 → "📱 Flutter App"
□ ✅ App cài lên điện thoại thành công!


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  📖 TÀI LIỆU CHI TIẾT
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📄 HUONG_DAN_KET_NOI_DIEN_THOAI.md  ← Hướng dẫn đầy đủ
📄 HUONG_DAN_VS_CODE.md             ← VS Code guide
📄 BAT_DAU_NHANH_VS_CODE.txt        ← Quick start


═══════════════════════════════════════════════════════════════════

            📱 Chúc bạn kết nối thành công! 🎉

═══════════════════════════════════════════════════════════════════

