â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         ðŸ˜ POSTGRESQL - HÆ¯á»šNG DáºªN NHANH 5 PHÃšT                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 1: CÃ€I Äáº¶T POSTGRESQL (10 PHÃšT)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸŒ DOWNLOAD:
   https://www.postgresql.org/download/windows/

ðŸ“¥ CÃCH CÃ€I:
   1. Download PostgreSQL 16 Installer
   2. Run file .exe
   3. Click Next â†’ Next
   4. Äáº¶T PASSWORD: postgres (NHá»š PASSWORD NÃ€Y!)
   5. Port: 5432 (giá»¯ máº·c Ä‘á»‹nh)
   6. Click Next â†’ Install
   7. Äá»£i 5 phÃºt
   8. âœ… Xong!

âœ… KIá»‚M TRA:
   # Má»Ÿ Command Prompt
   psql --version
   
   # Káº¿t quáº£: psql (PostgreSQL) 16.x


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 2: Táº O DATABASE (2 PHÃšT)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CÃCH 1: DÃ¹ng pgAdmin (Dá»„ NHáº¤T â­)
   1. Start Menu â†’ pgAdmin 4
   2. Nháº­p password: postgres
   3. Right-click "Databases" â†’ Create â†’ Database
   4. Name: nhandanghinhanh
   5. Click Save
   6. âœ… Xong!

CÃCH 2: Command Line
   # Má»Ÿ Command Prompt
   psql -U postgres
   
   # Nháº­p password: postgres
   
   # Táº¡o database
   CREATE DATABASE nhandanghinhanh;
   
   # ThoÃ¡t
   \q


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 3: Cáº¤U HÃŒNH BACKEND (1 PHÃšT)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“ Táº O FILE .env:
   cd backend
   copy .env.example .env

ðŸ“ CHá»ˆNH Sá»¬A FILE .env:
   # Má»Ÿ file backend/.env trong Notepad/VS Code
   
   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nhandanghinhanh
   DB_HOST=localhost
   DB_PORT=5432
   DB_NAME=nhandanghinhanh
   DB_USER=postgres
   DB_PASSWORD=postgres
   
   âš ï¸ Thay "postgres" thá»© 2 báº±ng PASSWORD báº¡n Ä‘Ã£ Ä‘áº·t!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 4: CÃ€I PACKAGES (1 PHÃšT)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

cd backend

# Activate venv (náº¿u cÃ³)
venv\Scripts\activate

# CÃ i packages
pip install -r requirements.txt

# Äá»£i cÃ i Ä‘áº·t (30 giÃ¢y)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 5: KHá»žI Táº O DATABASE (30 GIÃ‚Y)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CÃCH 1: Tá»± Ä‘á»™ng (khi cháº¡y server)
   cd backend
   python main.py
   
   âœ… Server sáº½ tá»± táº¡o tables!

CÃCH 2: Cháº¡y script riÃªng
   cd backend
   python init_db.py
   
   âœ… Tables Ä‘Æ°á»£c táº¡o!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BÆ¯á»šC 6: TEST (30 GIÃ‚Y)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ§ª TEST CONNECTION:
   cd backend
   python test_db.py
   
   âœ… Tháº¥y "ALL TESTS COMPLETED!" â†’ THÃ€NH CÃ”NG!

ðŸŒ TEST API:
   cd backend
   python main.py
   
   # Má»Ÿ browser:
   http://localhost:8000/docs
   
   # Thá»­ endpoint:
   POST /api/recognize â†’ Upload áº£nh
   GET /api/history â†’ Xem lá»‹ch sá»­
   
   âœ… Tháº¥y dá»¯ liá»‡u â†’ THÃ€NH CÃ”NG!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ… HOÃ€N THÃ€NH!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Báº¡n Ä‘Ã£ cÃ³:
  âœ… PostgreSQL server
  âœ… Database "nhandanghinhanh"
  âœ… Backend káº¿t ná»‘i database
  âœ… API lÆ°u dá»¯ liá»‡u vÃ o PostgreSQL

Sá»­ dá»¥ng:
  1. Upload áº£nh qua API
  2. Xem lá»‹ch sá»­ trong /api/history
  3. Xem database trong pgAdmin
  4. Query dá»¯ liá»‡u báº±ng SQL


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸ“Š Cáº¤U TRÃšC DATABASE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Tables:
  ðŸ“‹ users                â†’ NgÆ°á»i dÃ¹ng
  ðŸ“¸ recognition_history  â†’ Lá»‹ch sá»­ nháº­n dáº¡ng
  ðŸ‘¤ detected_persons     â†’ NgÆ°á»i Ä‘Æ°á»£c phÃ¡t hiá»‡n
  ðŸ“¦ detected_objects     â†’ Váº­t dá»¥ng Ä‘Æ°á»£c phÃ¡t hiá»‡n
  ðŸ“Š daily_statistics     â†’ Thá»‘ng kÃª hÃ ng ngÃ y
  ðŸ“ system_logs          â†’ Logs há»‡ thá»‘ng


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸ”§ Xá»¬ LÃ Lá»–I THÆ¯á»œNG Gáº¶P
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ "connection refused"
   â†’ PostgreSQL chÆ°a cháº¡y
   â†’ Fix: services.msc â†’ tÃ¬m postgresql â†’ Start

âŒ "password authentication failed"
   â†’ Password sai trong .env
   â†’ Fix: Kiá»ƒm tra láº¡i password

âŒ "database does not exist"
   â†’ ChÆ°a táº¡o database
   â†’ Fix: Cháº¡y láº¡i BÆ¯á»šC 2

âŒ "psycopg2 not found"
   â†’ Package chÆ°a cÃ i
   â†’ Fix: pip install psycopg2-binary

âŒ "relation does not exist"
   â†’ Tables chÆ°a táº¡o
   â†’ Fix: python init_db.py


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸ’¡ TIPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Xem dá»¯ liá»‡u trong pgAdmin:
   pgAdmin 4 â†’ nhandanghinhanh â†’ Tables
   â†’ Right-click table â†’ View/Edit Data

2. Query SQL trá»±c tiáº¿p:
   psql -U postgres -d nhandanghinhanh
   SELECT * FROM recognition_history;

3. Backup database:
   pg_dump -U postgres nhandanghinhanh > backup.sql

4. Restore database:
   psql -U postgres nhandanghinhanh < backup.sql

5. Reset database (XÃ“A Táº¤T Cáº¢):
   cd backend
   python init_db.py --reset


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸ“– TÃ€I LIá»†U CHI TIáº¾T
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“„ HUONG_DAN_POSTGRESQL.md  â† HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§ chi tiáº¿t
ðŸ“„ backend/database.py      â† Database configuration
ðŸ“„ backend/models.py         â† Database schema
ðŸ“„ backend/init_db.py        â† Setup script
ðŸ“„ backend/test_db.py        â† Test script


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ðŸš€ WORKFLOW HÃ€NG NGÃ€Y
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Kiá»ƒm tra PostgreSQL cháº¡y:
   services.msc â†’ postgresql â†’ Running

2. Cháº¡y backend:
   cd backend
   python main.py

3. Upload áº£nh qua Flutter app

4. Xem dá»¯ liá»‡u:
   - API: http://localhost:8000/api/history
   - pgAdmin: Databases â†’ nhandanghinhanh


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

         ðŸŽ‰ ChÃºc báº¡n sá»­ dá»¥ng PostgreSQL thÃ nh cÃ´ng! ðŸŽ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

